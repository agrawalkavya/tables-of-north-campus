<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>tables of north campus</title>
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Shadows+Into+Light&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100vw;
      min-height: 100vh;
      background: #fafbfc;
      font-family: 'Segoe UI', sans-serif;
      color: #222;
    }
    body {
      min-height: 100vh;
      width: 100vw;
    }
    h1 {
      text-align: center;
      margin-top: 2rem;
      font-size: 2.2rem;
      letter-spacing: 1px;
      font-family: 'Shadows Into Light', cursive;
      color: #6d5cae;
    }
    .timeline {
      position: relative;
      width: 90vw;
      max-width: 900px;
      margin: 3rem auto 0 auto;
      padding-bottom: 4rem;
    }
    .vertical-line {
      position: absolute;
      left: 50%;
      top: 0;
      width: 8px;
      height: 100%;
      background: none;
      z-index: 0;
      transform: translateX(-50%);
      pointer-events: none;
    }
    .time-block {
      position: relative;
      display: flex;
      flex-direction: row;
      align-items: stretch;
      min-height: 340px;
      margin: 4rem 0;
      z-index: 1;
    }
    .time-block.even {
      flex-direction: row-reverse;
    }
    .side {
      flex: 1 1 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-end;
      padding: 0 2rem;
    }
    .time-block.even .side {
      align-items: flex-start;
    }
    .polaroid {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 12px #0002;
      padding: 1.2rem 1.2rem 0.7rem 1.2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 1.2rem;
      border: 2px solid #eee;
      width: 240px;
      min-height: 320px;
    }
    .main-photo {
      width: 200px;
      height: 200px;
      border-radius: 8px;
      object-fit: cover;
      background: #eee;
      border: 1px solid #ddd;
      display: block;
      margin-bottom: 0.7rem;
    }
    .polaroid-date {
      font-size: 1.05rem;
      color: #7a5fa3;
      margin-top: 0.5rem;
      font-family: 'Courier New', Courier, monospace;
      letter-spacing: 1px;
      text-align: center;
      width: 100%;
    }
    .photo-desc {
      font-size: 1.08rem;
      color: #555;
      margin-bottom: 1.2rem;
      text-align: center;
      max-width: 90%;
    }
    .content-side {
      flex: 1 1 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      padding: 0 2rem;
    }
    .time-block.even .content-side {
      align-items: flex-end;
    }
    .time-title {
      font-weight: bold;
      font-size: 1.3rem;
      margin-bottom: 1.2rem;
      color: #222;
      text-align: left;
    }
    .refresh-btn {
      background: #f7e7ff;
      border: none;
      border-radius: 8px;
      padding: 0.4rem 1.1rem;
      font-size: 1.05rem;
      cursor: pointer;
      margin-bottom: 1.2rem;
      margin-top: 0.2rem;
      transition: background 0.2s;
    }
    .refresh-btn:hover {
      background: #e3cfff;
    }
    .memory {
      font-size: 1.13rem;
      margin-top: 0.7rem;
      color: #333;
      text-align: left;
      margin-bottom: 1.2rem;
      max-width: 340px;
    }
    .stick-figure {
      margin: 0.5rem 0 1.2rem 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .gallery-section {
      max-width: 1200px;
      margin: 4rem auto 3rem auto;
      padding: 2rem 0 4rem 0;
      border-top: none;
      position: relative;
      z-index: 1;
    }
    .gallery-title {
      text-align: center;
      font-size: 2.1rem;
      margin-bottom: 2.5rem;
      color: #6d5cae;
      letter-spacing: 1px;
      font-family: 'Shadows Into Light', cursive;
      font-weight: 400;
    }
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 2rem;
      justify-items: center;
      align-items: start;
      z-index: 2;
      margin: 0 auto;
      width: 80%;
      background: none;
    }
    .gallery-polaroid {
      background: #fff;
      border-top: 3px solid #eee;
      border-left: 3px solid #eee;
      border-right: 3px solid #eee;
      border-bottom: 35px solid #fff;
      border-radius: 8px 8px 20px 20px;
      box-shadow: 0 4px 12px #bfa6e022;
      width: 220px;
      height: 280px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      cursor: pointer;
      position: relative;
      transition: box-shadow 0.2s, transform 0.2s;
      aspect-ratio: 7/9;
      overflow: hidden;
    }
    .gallery-polaroid:hover {
      box-shadow: 0 8px 24px #bfa6e033;
      transform: translateY(-4px);
    }
    .gallery-polaroid-img {
      width: 180px;
      height: 180px;
      object-fit: cover;
      border-radius: 6px;
      margin-top: 12px;
      margin-bottom: 0.4rem;
      background: #eee;
      box-shadow: 0 2px 8px #0001;
      display: block;
    }
    .gallery-polaroid-label {
      font-size: 1.1rem;
      color: #6d5cae;
      font-family: 'Shadows Into Light', cursive;
      letter-spacing: 0.5px;
      text-align: center;
      width: 100%;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 8px;
      z-index: 2;
      user-select: none;
      background: transparent;
      padding-bottom: 4px;
      line-height: 1.2;
    }
    .gallery-empty {
      background: none !important;
      box-shadow: none !important;
      border: none !important;
      pointer-events: none;
      width: 70px;
      height: 90px;
      display: block;
      visibility: hidden;
    }
    /* --- Modal/Lightbox Styles --- */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.85);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 2rem;
    }
    
    .modal.active {
      display: flex;
    }
    
    .modal-polaroid {
      background: #fff;
      border-top: 4px solid #eee;
      border-left: 4px solid #eee;
      border-right: 4px solid #eee;
      border-bottom: 50px solid #fff;
      border-radius: 12px 12px 30px 30px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      width: 500px;
      height: 600px;
      position: relative;
      cursor: pointer;
      transform-style: preserve-3d;
      transition: transform 0.8s;
    }
    
    .modal-polaroid.flipped {
      transform: rotateY(180deg);
    }
    
    .modal-polaroid-front,
    .modal-polaroid-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }
    
    .modal-polaroid-front img {
      width: 400px;
      height: 400px;
      object-fit: cover;
      border-radius: 8px;
      margin-top: 1rem;
    }
    
    .modal-polaroid-back {
      background: #fff;
      transform: rotateY(180deg);
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      font-family: 'Special Elite', cursive;
      font-size: 1.2rem;
      line-height: 1.6;
      color: #333;
      padding: 3rem;
    }
    
    .modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      color: #fff;
      font-size: 2rem;
      cursor: pointer;
      z-index: 1001;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      transition: background 0.2s;
    }
    
    .modal-close:hover {
      background: rgba(255, 255, 255, 0.2);
    }
    
    @media (max-width: 768px) {
      .modal-polaroid {
        width: 90vw;
        height: 110vw;
        max-width: 500px;
        max-height: 600px;
      }
      
      .modal-polaroid-front img {
        width: 80%;
        height: auto;
        max-width: 400px;
        max-height: 400px;
      }
      
      .modal-polaroid-back {
        font-size: 1rem;
        padding: 2rem;
      }
    }
    @media (max-width: 1200px) {
      .gallery-grid {
        grid-template-columns: repeat(3, 1fr);
        width: 90%;
        gap: 1.5rem;
      }
    }
    @media (max-width: 900px) {
      .gallery-grid {
        grid-template-columns: repeat(2, 1fr);
        width: 95%;
        gap: 1.2rem;
      }
      
      .gallery-polaroid {
        width: 180px;
        height: 230px;
      }
      
      .gallery-polaroid-img {
        width: 150px;
        height: 150px;
      }
    }
    @media (max-width: 480px) {
      .gallery-grid {
        grid-template-columns: 1fr;
        width: 100%;
        gap: 1.5rem;
      }
      
      .gallery-polaroid {
        width: 220px;
        height: 280px;
      }
      
      .gallery-polaroid-img {
        width: 180px;
        height: 180px;
      }
    }
  </style>
</head>
<body>
  <h1>tables of north campus</h1>
  <div class="timeline" id="timeline">
    <svg class="vertical-line" id="verticalLine" width="16" height="3000" viewBox="0 0 16 3000" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path id="doodlePath" d="M8 0 Q16 100 8 200 Q0 300 8 400 Q16 500 8 600 Q0 700 8 800 Q16 900 8 1000 Q0 1100 8 1200 Q16 1300 8 1400 Q0 1500 8 1600 Q16 1700 8 1800 Q0 1900 8 2000 Q16 2100 8 2200 Q0 2300 8 2400 Q16 2500 8 2600 Q0 2700 8 2800 Q16 2900 8 3000" stroke="#bfa6e0" stroke-width="5" stroke-dasharray="12,14" fill="none"/>
    </svg>
    <!-- Time blocks will be injected here by JS -->
  </div>
  <div class="gallery-section" id="gallerySection">
    <div class="gallery-title">the polaroid wall</div>
    <div class="gallery-grid" id="galleryGrid"></div>
  </div>
  
  <!-- Modal/Lightbox -->
  <div class="modal" id="modal">
    <button class="modal-close" id="modalClose">&times;</button>
    <div class="modal-polaroid" id="modalPolaroid">
      <div class="modal-polaroid-front">
        <img id="modalImage" src="" alt="Polaroid">
      </div>
      <div class="modal-polaroid-back">
        <p id="modalMessage">A special memory from our time together.</p>
      </div>
    </div>
  </div>

  <script>
    // --- SECTION DATA ---
    const sectionData = [
      // 10:00 am - gate-1
      {
        time: '10:00 am',
        images: ['maanya photos/gate-1.png'],
        texts: ["It's so funny because everytime I'd try and spot you and the second you saw me and you'd wave and run over. The guards would always be laughing. I'll miss this too much."],
        label: 'gate-1',
      },
      // 10:20 am - car-1 to car-4 (random)
      {
        time: '10:20 am',
        images: [
          'maanya photos/car-1.png',
          'maanya photos/car-2.png',
          'maanya photos/car-3.png',
          'maanya photos/car-4.png',
        ],
        texts: [
          "I think we grabbed cups of ice cream that day, and your headband looked super cute",
          "Right before you exit the car, that's when I remembered that I needed a photo of you. So funny because earlier we used to meet so rarely that a photo was a must, and now we didn't even think about it.",
          "I think this is the day that I drove a distance longer than the one between my house and your college. We were headed to diggin and you were wrapping up your hul application in the car like a true workaholic?",
          "The biggest smile on your face was so well deserved and we both know why"
        ],
        label: 'car',
        random: true
      },
      // 10:40 am - steps-1 to steps-3
      {
        time: '10:40 am',
        images: [
          'maanya photos/steps-1.png',
          'maanya photos/steps-2.png',
          'maanya photos/steps-3.png',
        ],
        texts: [
          "All dressed up, outside your favourite place.",
          "The first day we toured north campus, full circle moment honestly.",
          "The most ultimate day."
        ],
        label: 'steps',
        random: true
      },
      // 11:00 am - starbucks-1 to starbucks-6
      {
        time: '11:00 am',
        images: [
          'maanya photos/starbucks-1.png',
          'maanya photos/starbucks-2.png',
          'maanya photos/starbucks-3.png',
          'maanya photos/starbucks-4.png',
          'maanya photos/starbucks-5.png',
          'maanya photos/starbucks-6.png',
        ],
        texts: [
          "Little did we know that this would become our table (sobbing rn)",
          "Ironic that the last time we dined here we didn't get our usual table",
          "This is when they spelled your name correct on the first try, 10/10",
          "PPO!!!",
          "Our standard java chips and going to tacobell after",
          "Christmas when you pointed out every mug there and told me I have this"
        ],
        label: 'starbucks',
        random: true
      },
      // 11:00 am part 2 - random-1 to random-8
      {
        time: '11:00 am (part 2)',
        images: [
          'maanya photos/random-1.png',
          'maanya photos/random-2.png',
          'maanya photos/random-3.png',
          'maanya photos/random-4.png',
          'maanya photos/random-5.png',
          'maanya photos/random-6.png',
          'maanya photos/random-7.png',
          'maanya photos/random-8.png',
        ],
        texts: [
          "Our favourite surprise guest @ north campus",
          "Tacobell!!!!",
          "I think this was a day after my birthday and we recorded that cute selfie video",
          "I'm so so shocked we discovered this place this late. But a fun time!",
          "Tacobell!!!! I remember dipping our fingers in the churro sauce hahahaha",
          "Showed you my magazine, and it made my day",
          "The cutest bow!!! Also met my friends this day, I love how our circles collide",
          "You looked adorable"
        ],
        label: 'random',
        random: true
      }
    ];

    // --- RENDER MAIN SECTIONS ---
    function renderSections() {
      const main = document.getElementById('timeline');
      sectionData.forEach((section, idx) => {
        let imgIdx = 0;
        if (section.random) {
          imgIdx = Math.floor(Math.random() * section.images.length);
        }
        const even = idx % 2 === 1;
        const blockId = `block-${idx}`;
        const html = `
          <div class="time-block${even ? ' even' : ''}">
            <div class="side">
              <div class="polaroid" id="polaroid-${idx}">
                <img class="main-photo" id="photo-${idx}" src="${section.images[imgIdx]}" alt="${section.label}">
                <div class="polaroid-date" id="date-${idx}">${section.time}</div>
              </div>
              <div class="photo-desc" id="desc-${idx}">${section.texts[imgIdx]}</div>
              <button class="refresh-btn" onclick="refreshMemory(${idx})">refresh memory</button>
            </div>
            <div class="content-side">
              <div class="time-title">at ${section.time}</div>
              <div class="memory" id="memory-${idx}">${section.texts[imgIdx]}</div>
              <div class="stick-figure">${stickFigures[section.label]}</div>
            </div>
          </div>
        `;
        main.insertAdjacentHTML('beforeend', html);
      });
    }

    // --- Refresh memory/photo for a time block ---
    window.refreshMemory = function(idx) {
      const section = sectionData[idx];
      const imgIdx = section.random ? Math.floor(Math.random() * section.images.length) : 0;
      document.getElementById(`photo-${idx}`).src = section.images[imgIdx];
      document.getElementById(`desc-${idx}`).textContent = section.texts[imgIdx];
      document.getElementById(`memory-${idx}`).textContent = section.texts[imgIdx];
      document.getElementById(`date-${idx}`).textContent = section.time;
    }

    // --- Stick figure SVGs ---
    const stickFigures = {
      single: `<svg width="60" height="100" viewBox="0 0 40 80" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="12" r="10" stroke="#222" stroke-width="2"/><line x1="20" y1="22" x2="20" y2="55" stroke="#222" stroke-width="2"/><line x1="20" y1="30" x2="8" y2="45" stroke="#222" stroke-width="2"/><line x1="20" y1="30" x2="32" y2="45" stroke="#222" stroke-width="2"/><line x1="20" y1="55" x2="10" y2="75" stroke="#222" stroke-width="2"/><line x1="20" y1="55" x2="30" y2="75" stroke="#222" stroke-width="2"/></svg>`,
      double: `<svg width="90" height="100" viewBox="0 0 60 80" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="12" r="10" stroke="#222" stroke-width="2"/><circle cx="45" cy="12" r="10" stroke="#222" stroke-width="2"/><line x1="15" y1="22" x2="15" y2="55" stroke="#222" stroke-width="2"/><line x1="45" y1="22" x2="45" y2="55" stroke="#222" stroke-width="2"/><line x1="15" y1="30" x2="3" y2="45" stroke="#222" stroke-width="2"/><line x1="15" y1="30" x2="27" y2="45" stroke="#222" stroke-width="2"/><line x1="45" y1="30" x2="33" y2="45" stroke="#222" stroke-width="2"/><line x1="45" y1="30" x2="57" y2="45" stroke="#222" stroke-width="2"/><line x1="15" y1="55" x2="5" y2="75" stroke="#222" stroke-width="2"/><line x1="15" y1="55" x2="25" y2="75" stroke="#222" stroke-width="2"/><line x1="45" y1="55" x2="35" y2="75" stroke="#222" stroke-width="2"/><line x1="45" y1="55" x2="55" y2="75" stroke="#222" stroke-width="2"/></svg>`,
      group: `<svg width="150" height="100" viewBox="0 0 100 80" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="12" r="10" stroke="#222" stroke-width="2"/><circle cx="50" cy="12" r="10" stroke="#222" stroke-width="2"/><circle cx="80" cy="12" r="10" stroke="#222" stroke-width="2"/><line x1="20" y1="22" x2="20" y2="55" stroke="#222" stroke-width="2"/><line x1="50" y1="22" x2="50" y2="55" stroke="#222" stroke-width="2"/><line x1="80" y1="22" x2="80" y2="55" stroke="#222" stroke-width="2"/><line x1="20" y1="30" x2="8" y2="45" stroke="#222" stroke-width="2"/><line x1="20" y1="30" x2="32" y2="45" stroke="#222" stroke-width="2"/><line x1="50" y1="30" x2="38" y2="45" stroke="#222" stroke-width="2"/><line x1="50" y1="30" x2="62" y2="45" stroke="#222" stroke-width="2"/><line x1="80" y1="30" x2="68" y2="45" stroke="#222" stroke-width="2"/><line x1="80" y1="30" x2="92" y2="45" stroke="#222" stroke-width="2"/><line x1="20" y1="55" x2="10" y2="75" stroke="#222" stroke-width="2"/><line x1="20" y1="55" x2="30" y2="75" stroke="#222" stroke-width="2"/><line x1="50" y1="55" x2="40" y2="75" stroke="#222" stroke-width="2"/><line x1="50" y1="55" x2="60" y2="75" stroke="#222" stroke-width="2"/><line x1="80" y1="55" x2="70" y2="75" stroke="#222" stroke-width="2"/><line x1="80" y1="55" x2="90" y2="75" stroke="#222" stroke-width="2"/></svg>`,
    };

    // --- POLAROID WALL ---
    const polaroidImages = [
      'maanya photos/gate-1.png',
      'maanya photos/car-1.png',
      'maanya photos/car-2.png',
      'maanya photos/steps-1.png',
      'maanya photos/steps-2.png',
      'maanya photos/starbucks-1.png',
      'maanya photos/starbucks-2.png',
      'maanya photos/starbucks-3.png',
      'maanya photos/starbucks-4.png',
      'maanya photos/starbucks-5.png',
      'maanya photos/starbucks-6.png',
      'maanya photos/random-1.png',
      'maanya photos/random-2.png',
      'maanya photos/random-3.png',
      'maanya photos/random-4.png',
      'maanya photos/random-5.png',
      'maanya photos/random-6.png',
      'maanya photos/random-7.png',
    ];

    // Messages for the back of polaroids
    const polaroidMessages = [
      "It's so funny because everytime I'd try and spot you and the second you saw me and you'd wave and run over. The guards would always be laughing. I'll miss this too much.",
      "I think we grabbed cups of ice cream that day, and your headband looked super cute",
      "Right before you exit the car, that's when I remembered that I needed a photo of you. So funny because earlier we used to meet so rarely that a photo was a must, and now we didn't even think about it.",
      "I think this is the day that I drove a distance longer than the one between my house and your college. We were headed to diggin and you were wrapping up your hul application in the car like a true workaholic?",
      "The biggest smile on your face was so well deserved and we both know why",
      "All dressed up, outside your favourite place.",
      "The first day we toured north campus, full circle moment honestly.",
      "The most ultimate day.",
      "Little did we know that this would become our table (sobbing rn)",
      "Ironic that the last time we dined here we didn't get our usual table",
      "This is when they spelled your name correct on the first try, 10/10",
      "PPO!!!",
      "Our standard java chips and going to tacobell after",
      "Christmas when you pointed out every mug there and told me I have this",
      "Our favourite surprise guest @ north campus",
      "Tacobell!!!!",
      "I think this was a day after my birthday and we recorded that cute selfie video",
      "I'm so so shocked we discovered this place this late. But a fun time!",
      "Tacobell!!!! I remember dipping our fingers in the churro sauce hahahaha",
      "Showed you my magazine, and it made my day",
      "The cutest bow!!! Also met my friends this day, I love how our circles collide",
      "You looked adorable"
    ];

    function renderGallery() {
      const grid = document.getElementById('galleryGrid');
      grid.innerHTML = '';
      polaroidImages.forEach((img, idx) => {
        const polaroid = document.createElement('div');
        polaroid.className = 'gallery-polaroid';
        polaroid.innerHTML = `
          <img class="gallery-polaroid-img" src="${img}" alt="gallery polaroid">
          <div class="gallery-polaroid-label">Memory #${idx + 1}</div>
        `;
        polaroid.onclick = () => openModal(img, idx);
        grid.appendChild(polaroid);
      });
    }

    // Modal functionality
    const modal = document.getElementById('modal');
    const modalPolaroid = document.getElementById('modalPolaroid');
    const modalImage = document.getElementById('modalImage');
    const modalMessage = document.getElementById('modalMessage');
    const modalClose = document.getElementById('modalClose');

    function openModal(imgSrc, idx) {
      modalImage.src = imgSrc;
      modalMessage.textContent = polaroidMessages[idx];
      modal.classList.add('active');
      modalPolaroid.classList.remove('flipped');
    }

    function closeModal() {
      modal.classList.remove('active');
      modalPolaroid.classList.remove('flipped');
    }

    modalPolaroid.onclick = function(e) {
      if (e.target === modalPolaroid || e.target === modalImage) {
        modalPolaroid.classList.toggle('flipped');
      }
    };

    modalClose.onclick = closeModal;
    modal.onclick = function(e) {
      if (e.target === modal) {
        closeModal();
      }
    };

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && modal.classList.contains('active')) {
        closeModal();
      }
    });

    // --- Initialize ---
    renderSections();
    renderGallery();
  </script>
</body>
</html>
